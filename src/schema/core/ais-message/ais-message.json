{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://poseidat.org/schema/core/ais-message/ais-message.json",
  "title": "Measurement value",
  "description": "The message that gets send by an AIS device. Values that are undefined should be set by the AIS device using the default",
  "properties": {
    "entity_id": {
      "description": "The mmsi identifier (ais entity) this value is related to",
      "type": "number"
    },
    "message_type" :{
      "description": "The message type of the given AIS measurement",
      "$ref": "https://poseidat.org/schema/enum/ais-message-type.json"
    },
    "repeat_indicator": {
      "description": "The amount of times the message has been repeated (3 is do not repeat anymore)",
      "type": "number",
      "default": 3
    },
    "position_report": {
      "description": "An AIS position report message",
      "$ref": "https://poseidat.org/schema/core/ais-message/position-report.json"
    }
 },
 "oneOf": [
   { "required": [ "entity_id", "message_type" , "repeat_indicator", "position_report"] }
 ],
  "type": "object",
  "additionalProperties": false
}
